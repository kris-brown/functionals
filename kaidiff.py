from prettytable import PrettyTable

kai = '''|  Ag  |  0.46 |  -2.8 |  0.01  |
| AlAs |  0.09 |  -2.9 | 0.029  |
| AlP  | -0.11 |  5.0  |  0.02  |
|  Al  |  0.02 |  1.4  | -0.013 |
|  Au  |  0.33 |  -9.8 | 0.019  |
| BAs  |  0.07 |  -2.8 | 0.007  |
|  BN  |  0.18 |  8.7  | 0.013  |
|  BP  |  0.23 |  -0.6 | -0.006 |
|  Ba  |  0.18 |  -1.0 | -0.036 |
|  C   | -0.08 |  10.8 |  0.0   |
|  Ca  | -0.07 |  -2.2 | -0.031 |
|  Cu  |  0.9  |  45.1 | -0.024 |
|  Fe  |  0.56 |  65.2 | -0.065 |
| GaAs |  0.14 |  -4.2 | 0.042  |
| GaN  | -0.02 |  -0.4 | 0.038  |
| GaP  |  0.06 |  0.9  | 0.043  |
|  Ge  |  0.09 |  -4.7 | 0.045  |
| InAs |  0.18 |  0.9  | 0.088  |
| InP  |  -0.1 |  -2.4 | 0.088  |
|  Ir  |  1.3  |  3.4  | -0.008 |
|  K   |  0.01 |  0.7  | 0.042  |
| LiCl | -0.24 |  -1.2 | 0.022  |
| LiF  | -0.31 |  10.0 | 0.008  |
|  Li  | -0.18 |  7.7  | -0.022 |
| MgO  | -0.15 |  -2.2 | 0.014  |
| MgS  | -0.22 |  3.7  | -0.011 |
|  Mo  |  0.01 |  14.6 | -0.01  |
| NaCl | -0.15 |  3.3  | -0.061 |
| NaF  | -0.15 |  10.4 | -0.072 |
|  Na  |  0.02 |  8.7  | 0.012  |
| NbC  | -0.45 |  10.1 | 0.032  |
| NbN  | -0.47 |  21.5 | 0.067  |
|  Nb  | -0.27 |  16.0 | 0.012  |
|  Ni  |  0.37 |  37.8 | -0.045 |
|  Pd  |  0.92 |  -0.2 |  0.01  |
|  Pt  |  0.84 |  17.3 | -0.001 |
|  Rb  |  0.03 |  0.1  | 0.091  |
|  Rh  |  0.31 |  23.3 | -0.015 |
| SiC  | -0.14 |  -2.0 | 0.004  |
|  Si  | -0.13 |  -1.5 | 0.009  |
|  Sn  |  0.47 |  -9.4 | 0.058  |
|  Sr  |  0.1  |  0.5  | -0.03  |
|  Ta  |  1.05 |  23.1 | -0.026 |
| TiC  | -0.19 |  33.1 | 0.002  |
| TiN  | -0.02 |  21.5 | 0.007  |
|  VC  | -0.19 |  29.0 | -0.019 |
|  VN  | -0.12 |  66.0 | -0.028 |
|  V   | -0.06 |  45.9 | -0.071 |
|  W   |  0.98 |  16.8 | -0.017 |
| ZrC  | -0.25 |  3.1  | 0.009  |
| ZrN  | -0.14 |  46.4 | 0.002  |'''
# Present in scheff but not sol58
# | AlSb |  0.18 |  -1.7 | 0.049  |
# | CdS  |  -0.0 |  -3.4 | 0.072  |
# | CdSe |  0.15 |  -2.9 | 0.069  |
# | CdTe |  0.18 |  -5.1 |  0.03  |
# | GaSb |  0.21 |  -2.0 | 0.043  |
# | HfC  |  0.1  |  -5.4 | -0.015 |
# | HfN  | -0.18 |  -1.5 | -0.01  |
# | InSb |  0.29 |  -2.3 |  0.07  |
# | ZnS  | -0.01 |  4.4  | -0.023 |
# | ZnSe |  0.27 |  1.0  | -0.025 |
# | ZnTe |  0.23 |  6.8  | -0.045 |

kris = '''|  Ag  |  0.26 |  -2.0 | 0.022  |
| AlAs |  0.01 |  -2.6 | 0.036  |
| AlP  | -0.19 |  3.3  | 0.024  |
|  Al  | -0.06 |  2.3  | -0.009 |
|  Au  |  0.12 | -13.2 | 0.027  |
| BAs  |  0.08 |  -4.1 | 0.011  |
|  BN  |  0.22 |  7.1  | 0.015  |
|  BP  |  0.24 |  -1.8 | -0.003 |
|  Ba  |  0.07 |  -0.3 | -0.02  |
|  C   | -0.26 |  3.6  | 0.012  |
|  Ca  | -0.14 |  -1.4 | -0.014 |
|  Cu  |  0.71 |  44.1 | -0.02  |
|  Fe  |  0.42 | 140.2 | -0.061 |
| GaAs |  0.05 |  -5.5 |  0.05  |
| GaN  | -0.09 |  -3.5 | 0.041  |
| GaP  | -0.03 |  -0.5 | 0.049  |
|  Ge  |  0.0  |  -5.9 | 0.051  |
| InAs |  0.01 |  -0.2 | 0.099  |
| InP  | -0.27 |  -3.5 | 0.095  |
|  Ir  |  1.08 |  6.3  | -0.003 |
|  K   | -0.04 |  -0.0 |  0.07  |
| LiCl | -0.29 |  -2.3 |  0.04  |
| LiF  | -0.35 |  2.8  | 0.023  |
|  Li  | -0.21 |  16.1 | -0.051 |
| MgO  | -0.19 |  -4.8 | 0.013  |
| MgS  |  -0.3 |  2.2  | -0.004 |
|  Mo  | -0.26 |  18.5 | -0.007 |
| NaCl |  -0.2 |  2.2  | -0.041 |
| NaF  | -0.21 |  8.3  | -0.065 |
|  Na  | -0.02 |  2.7  | -0.096 |
| NbC  |  -0.6 |  8.6  | 0.036  |
| NbN  | -0.61 |  19.9 | 0.072  |
|  Nb  | -0.46 |  16.6 | 0.017  |
|  Ni  |  0.24 |  13.5 | -0.038 |
|  Pd  |  0.7  |  -1.4 | 0.016  |
|  Pt  |  0.63 |  11.2 | 0.004  |
|  Rb  | -0.02 |  0.1  | 0.129  |
|  Rh  |  0.12 |  18.3 | -0.01  |
| SiC  | -0.24 |  -3.7 | 0.006  |
|  Si  | -0.21 |  -2.1 | 0.014  |
|  Sn  |  0.35 | -10.6 | 0.075  |
|  Sr  |  0.0  |  -0.9 | 0.013  |
|  Ta  |  0.78 |  18.0 | -0.024 |
| TiC  |  -0.3 |  24.8 | 0.007  |
| TiN  | -0.12 |  23.7 |  0.01  |
|  VC  | -0.32 | -24.9 | -0.014 |
|  VN  | -0.24 |  67.3 | -0.022 |
|  V   | -0.21 |  46.0 | -0.069 |
|  W   |  0.69 |  19.4 | -0.014 |
| ZrC  | -0.37 |  -3.1 | 0.015  |
| ZrN  | -0.25 |  40.5 | 0.008  |'''


def ediff(kaiError: str, krisError: str, rounding: int) -> str:
    return str(round(abs(float(kaiError)) - abs(float(krisError)), rounding))


def main() -> None:
    pt = PrettyTable(['mat', 'ΔerrCe', 'ΔerrBm', 'ΔerrLc'])
    tols = [2, 1, 3]
    for kailine, krisline in zip(kai.split('\n'), kris.split('\n')):
        _, mat, ce1, bm1, lc1, _ = kailine.split('|')
        _, mat2, ce2, bm2, lc2, _ = krisline.split('|')
        assert mat == mat2, (mat, mat2)
        pt.add_row([mat] + [ediff(x, y, r) for x, y, r in
                            zip([ce1, bm1, lc1], [ce2, bm2, lc2], tols)])
    print(pt)


if __name__ == '__main__':
    main()